{"version":3,"sources":["helper/api.js","components/SortPanel.tsx","components/TodoList.tsx","App.tsx","index.tsx"],"names":["URL_API","getTodos","a","fetch","response","json","getUsers","buttons","name","sorted","SortPanel","useState","activeBtn","setActiveBtn","map","button","type","key","onClick","className","TodoList","todos","changeStatus","completed","user","title","id","cn","normalizeTodos","users","todo","find","userId","App","loading","setLoading","visibleContent","setVisibleContent","setTodos","sortName","sort","b","localeCompare","actualTodos","then","todosFromServer","ReactDOM","render","document","getElementById"],"mappings":"iSAAMA,G,MAAU,wCAEHC,EAAQ,uCAAG,4BAAAC,EAAA,sEACCC,MAAM,GAAD,OAAIH,EAAJ,WADN,cAChBI,EADgB,yBAEfA,EAASC,QAFM,2CAAH,qDAKRC,EAAQ,uCAAG,4BAAAJ,EAAA,sEACCC,MAAM,GAAD,OAAIH,EAAJ,WADN,cAChBI,EADgB,yBAEfA,EAASC,QAFM,2CAAH,qDCLfE,EAAU,CACd,CAAEC,KAAM,eAAgBC,OAAQ,SAChC,CAAED,KAAM,oBAAqBC,OAAQ,aACrC,CAAED,KAAM,oBAAqBC,OAAQ,SAO1BC,EAAiC,SAAC,GAAgB,IAAdD,EAAa,EAAbA,OAAa,EAC1BE,mBAAS,IADiB,mBACrDC,EADqD,KAC1CC,EAD0C,KAG5D,OACE,2BACGN,EAAQO,KAAI,SAAAC,GACX,OACE,4BACEC,KAAK,SACLC,IAAKF,EAAOP,KACZU,QAAS,WACPL,EAAaE,EAAON,QACpBA,EAAOM,EAAON,SAEhBU,UAAWJ,EAAON,SAAWG,EAAY,yBAA2B,mBAEnEG,EAAOP,W,iBCzBPY,EAAoC,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aACzD,OACE,6BACGD,EAAMP,KAAI,gBACTS,EADS,EACTA,UAAWC,EADF,EACEA,KAAMC,EADR,EACQA,MAAOC,EADf,EACeA,GADf,OAGT,4BACEV,KAAK,SACLG,UAAYQ,IAAG,QAAS,CAAE,gBAAiBJ,EAAW,iBAAkBA,IACxEN,IAAKS,EACLR,QAAS,kBAAMI,EAAaI,KAE5B,8BAAOD,GACP,8BAAOD,EAAKhB,YCVhBoB,EAAc,uCAAG,8BAAA1B,EAAA,sEACDD,IADC,cACfoB,EADe,gBAEDf,IAFC,cAEfuB,EAFe,yBAIdR,EAAMP,KAAI,SAACgB,GAChB,OAAO,2BACFA,GADL,IAEEN,KAAMK,EAAME,MAAK,SAACP,GAAD,OAAgBA,EAAKE,KAAOI,EAAKE,gBAPjC,2CAAH,qDA0FLC,EA9EH,WAAO,IAAD,EACctB,oBAAS,GADvB,mBACTuB,EADS,KACAC,EADA,OAE4BxB,oBAAS,GAFrC,mBAETyB,EAFS,KAEOC,EAFP,OAGU1B,mBAA0B,IAHpC,mBAGTU,EAHS,KAGFiB,EAHE,KAqDhB,OAAIJ,EACK,yCAIP,oCACIE,EAUE,oCACE,kBAAC,EAAD,CAAW3B,OAvDN,SAAC8B,GACd,OAAQA,GACN,IAAK,QAKH,YAJAD,EAAS,YAAIjB,GAAOmB,MAAK,SAACtC,EAAGuC,GAC3B,OAAOvC,EAAEuB,MAAMiB,cAAcD,EAAEhB,WAInC,IAAK,YAKH,YAJAa,EAAS,YAAIjB,GAAOmB,MAAK,SAACtC,EAAGuC,GAC3B,OAAQvC,EAAEqB,WAAakB,EAAElB,cAI7B,IAAK,OAKH,YAJAe,EAAS,YAAIjB,GAAOmB,MAAK,SAACtC,EAAGuC,GAC3B,OAAOvC,EAAEsB,KAAKhB,KAAKkC,cAAcD,EAAEjB,KAAKhB,UAI5C,QACE8B,EAAS,YAAIjB,QAmCT,kBAAC,EAAD,CAAUC,aA9BC,SAACI,GACpB,IAAMiB,EAActB,EAAMP,KAAI,SAAAgB,GAC5B,OAAIA,EAAKJ,KAAOA,EACP,2BAAKI,GAAZ,IAAkBP,WAAYO,EAAKP,YAG9BO,KAGTQ,EAASK,IAqBqCtB,MAAOA,KAXjD,4BACEL,KAAK,SACLE,QAzDY,WAClBiB,GAAW,GACXP,IACGgB,MAAK,SAAAC,GACJP,EAASO,GACTV,GAAW,GACXE,GAAkB,OAoDhBlB,UAAU,mBAHZ,UCxER2B,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.f88b2567.chunk.js","sourcesContent":["const URL_API = 'https://jsonplaceholder.typicode.com';\n\nexport const getTodos = async () => {\n  const response = await fetch(`${URL_API}/todos`)\n  return response.json();\n}\n\nexport const getUsers = async () => {\n  const response = await fetch(`${URL_API}/users`)\n  return response.json();\n}\n","import React, { useState } from 'react';\n\nconst buttons = [\n  { name: 'Sort by Name', sorted: 'title' },\n  { name: 'Sort by Completed', sorted: 'completed' },\n  { name: 'Sort by User Name', sorted: 'user' },\n];\n\ntype PropsSort = {\n  sorted: (sorted: string) => void;\n};\n\nexport const SortPanel: React.FC<PropsSort> = ({ sorted }) => {\n  const [activeBtn, setActiveBtn] = useState('');\n\n  return (\n    <p>\n      {buttons.map(button => {\n        return (\n          <button\n            type=\"button\"\n            key={button.name}\n            onClick={() => {\n              setActiveBtn(button.sorted);\n              sorted(button.sorted);\n            }}\n            className={button.sorted === activeBtn ? 'btn btn-warning active' : 'btn btn-warning'}\n          >\n            {button.name}\n          </button>\n        );\n      })}\n    </p>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nexport const TodoList: React.FC<TodoListProps> = ({ todos, changeStatus }) => {\n  return (\n    <div>\n      {todos.map(({\n        completed, user, title, id,\n      }) => (\n        <button\n          type=\"button\"\n          className= {cn('alert', { 'alert-success': completed, 'alert-primary': !completed })}\n          key={id}\n          onClick={() => changeStatus(id)}\n        >\n          <span>{title}</span>\n          <span>{user.name}</span>\n        </button>\n      ))}\n    </div>\n  );\n};\n\ntype TodoListProps = {\n  todos: TodoNormalize[];\n  changeStatus(id: number): void;\n};\n","import React, { useState } from 'react';\nimport './App.css';\nimport { getTodos, getUsers } from './helper/api';\nimport { SortPanel } from './components/SortPanel';\nimport { TodoList } from './components/TodoList';\n\nconst normalizeTodos = async () => {\n  const todos = await getTodos();\n  const users = await getUsers();\n\n  return todos.map((todo: Todo) => {\n    return {\n      ...todo,\n      user: users.find((user: User) => user.id === todo.userId),\n    };\n  });\n};\n\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  const [visibleContent, setVisibleContent] = useState(false);\n  const [todos, setTodos] = useState<TodoNormalize[]>([]);\n\n  const onLoadClick = () => {\n    setLoading(true);\n    normalizeTodos()\n      .then(todosFromServer => {\n        setTodos(todosFromServer);\n        setLoading(false);\n        setVisibleContent(true);\n      });\n  };\n\n  const sorted = (sortName: string|boolean) => {\n    switch (sortName) {\n      case 'title':\n        setTodos([...todos].sort((a, b) => {\n          return a.title.localeCompare(b.title);\n        }));\n\n        return;\n      case 'completed':\n        setTodos([...todos].sort((a, b) => {\n          return +a.completed - +b.completed;\n        }));\n\n        return;\n      case 'user':\n        setTodos([...todos].sort((a, b) => {\n          return a.user.name.localeCompare(b.user.name);\n        }));\n\n        return;\n      default:\n        setTodos([...todos]);\n    }\n  };\n\n\n  const changeStatus = (id: number) => {\n    const actualTodos = todos.map(todo => {\n      if (todo.id === id) {\n        return { ...todo, completed: !todo.completed };\n      }\n\n      return todo;\n    });\n\n    setTodos(actualTodos);\n  };\n\n  if (loading) {\n    return <p>Loading...</p>;\n  }\n\n  return (\n    <>\n      {!visibleContent ? (\n        <button\n          type=\"button\"\n          onClick={onLoadClick}\n          className=\"btn btn-success\"\n        >\n          Load\n        </button>\n      )\n        : (\n          <>\n            <SortPanel sorted={sorted} />\n            <TodoList changeStatus={changeStatus} todos={todos} />\n          </>\n        )}\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {} from './helper/api';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}